---
title: Práticas recomendadas para empresas que estão migrando para o Azure | Microsoft Docs
description: Descreve um andaime que as empresas podem usar para garantir um ambiente seguro e gerenciável.
services: azure-resource-manager
documentationcenter: na
author: rdendtler
manager: timlt
editor: tysonn
ms.assetid: 8692f37e-4d33-4100-b472-a8da37ce628f
ms.service: azure-resource-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/31/2017
ms.author: rodend;karlku;tomfitz
ms.openlocfilehash: 8bc2ed253b951ea04eb25b76f67dcc2092dc94ad
ms.sourcegitcommit: 4ec010846b9b5545c843a32e08293f906e512302
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/17/2018
---
# <a name="azure-enterprise-scaffold---prescriptive-subscription-governance"></a><span data-ttu-id="3d6c9-103">Andaime empresarial do Azure — governança de assinatura prescritiva</span><span class="sxs-lookup"><span data-stu-id="3d6c9-103">Azure enterprise scaffold - prescriptive subscription governance</span></span>
<span data-ttu-id="3d6c9-104">As empresas estão adotando cada vez mais a nuvem pública em busca de agilidade e flexibilidade.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="3d6c9-105">Elas estão usando os pontos fortes da nuvem para gerar receita ou otimizar recursos para os negócios.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-105">They are utilizing the cloud's strengths to generate revenue or optimize resources for the business.</span></span> <span data-ttu-id="3d6c9-106">O Microsoft Azure fornece uma variedade de serviços que as empresas podem montar como blocos de construção para atender a uma ampla gama de aplicativos e cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-106">Microsoft Azure provides a multitude of services that enterprises can assemble like building blocks to address a wide array of workloads and applications.</span></span> 

<span data-ttu-id="3d6c9-107">Mas, muitas vezes, é difícil saber por onde começar.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-107">But, knowing where to begin is often difficult.</span></span> <span data-ttu-id="3d6c9-108">Depois de decidir usar o Azure, normalmente surgem algumas perguntas:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-108">After deciding to use Azure, a few questions commonly arise:</span></span>

* <span data-ttu-id="3d6c9-109">"Como atender aos nossos requisitos legais para domínio dos dados em determinados países?"</span><span class="sxs-lookup"><span data-stu-id="3d6c9-109">"How do I meet our legal requirements for data sovereignty in certain countries?"</span></span>
* <span data-ttu-id="3d6c9-110">"Como garantir que alguém não altere inadvertidamente um sistema crítico?"</span><span class="sxs-lookup"><span data-stu-id="3d6c9-110">"How do I ensure that someone does not inadvertently change a critical system?"</span></span>
* <span data-ttu-id="3d6c9-111">"Como saber o que cada recurso aceita para que eu possa responsabilizá-lo e cobrá-lo de volta precisamente?"</span><span class="sxs-lookup"><span data-stu-id="3d6c9-111">"How do I know what every resource is supporting so I can account for it and bill it back accurately?"</span></span>

<span data-ttu-id="3d6c9-112">A possibilidade de uma assinatura vazia sem recursos de segurança é assustadora.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="3d6c9-113">Esse espaço em branco pode atrasar sua migração para o Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="3d6c9-114">Este artigo fornece um ponto de partida para que profissionais técnicos atendam à necessidade de governança e a equilibrem com a necessidade de agilidade.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-114">This article provides a starting point for technical professionals to address the need for governance, and balance it with the need for agility.</span></span> <span data-ttu-id="3d6c9-115">Ele apresenta o conceito de um andaime empresarial que orienta as organizações na implementação e no gerenciamento de suas assinaturas do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure subscriptions.</span></span> 

## <a name="need-for-governance"></a><span data-ttu-id="3d6c9-116">Necessidade de governança</span><span class="sxs-lookup"><span data-stu-id="3d6c9-116">Need for governance</span></span>
<span data-ttu-id="3d6c9-117">Ao migrar para o Azure, você deve abordar o tópico de governança antecipadamente para garantir o uso bem-sucedido da nuvem dentro da empresa.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-117">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="3d6c9-118">Infelizmente, o tempo e a burocracia de criar um sistema abrangente de governança significam que alguns grupos de negócios vão diretamente aos fornecedores sem se envolverem com a TI empresarial.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-118">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to vendors without involving enterprise IT.</span></span> <span data-ttu-id="3d6c9-119">Essa abordagem pode deixar a empresa aberta a vulnerabilidades se os recursos não forem gerenciados corretamente.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-119">This approach can leave the enterprise open to vulnerabilities if the resources are not properly managed.</span></span> <span data-ttu-id="3d6c9-120">As características da nuvem pública — agilidade, flexibilidade e preço com base no consumo — são importantes para os grupos de negócios que precisam atender rapidamente às demandas dos clientes (internos e externos).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-120">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="3d6c9-121">Porém, a TI empresarial precisa garantir que sistemas e dados sejam protegidos eficazmente.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-121">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="3d6c9-122">Na vida real, o andaime é usado para criar a base da estrutura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-122">In real life, scaffolding is used to create the basis of the structure.</span></span> <span data-ttu-id="3d6c9-123">O andaime guia o plano geral, além de fornecer pontos de ancoragem para que mais sistemas permanentes sejam montados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-123">The scaffold guides the general outline, and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="3d6c9-124">Um andaime empresarial é igual: um conjunto de controles flexíveis e recursos do Azure que fornecem estrutura ao ambiente, bem como âncoras para serviços criados com base na nuvem pública.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-124">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="3d6c9-125">Ele fornece aos criadores (TI e grupos de negócios) uma base para criar e agregar novos serviços.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-125">It provides the builders (IT and business groups) a foundation to create and attach new services.</span></span>

<span data-ttu-id="3d6c9-126">Um andaime se baseia em práticas que coletamos dos muitos compromissos com clientes de vários tamanhos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-126">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="3d6c9-127">Esses clientes variam de pequenas organizações que desenvolvem soluções na nuvem a grandes empresas da Fortune 500, bem como fornecedores de software independentes que estão migrando e desenvolvendo soluções na nuvem.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-127">Those clients range from small organizations developing solutions in the cloud to Fortune 500 enterprises and independent software vendors who are migrating and developing solutions in the cloud.</span></span> <span data-ttu-id="3d6c9-128">O andaime empresarial foi "criado especificamente" para ser flexível e aceitar cargas de TI tradicionais e cargas de trabalho ágeis; por exemplo, desenvolvedores que criam aplicativos SaaS (software como serviço) baseados em recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-128">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure capabilities.</span></span>

<span data-ttu-id="3d6c9-129">O andaime empresarial destina-se a ser a base de cada nova assinatura no Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-129">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="3d6c9-130">Ele permite aos administradores garantir que as cargas de trabalho atendam aos requisitos mínimos de governança de uma organização sem impedir que grupos de negócios e desenvolvedores cumpram rapidamente suas próprias metas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-130">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3d6c9-131">A governança é essencial para o sucesso do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-131">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="3d6c9-132">Este artigo foca na implementação técnica de um andaime empresarial, mas toca apenas no processo mais amplo e nas relações entre os componentes.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-132">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="3d6c9-133">A governança da política flui de cima para baixo e é determinada por aquilo que a empresa quer alcançar.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-133">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="3d6c9-134">Naturalmente, a criação de um modelo de governança para o Azure inclui representantes da TI, mas o mais importante é ter uma forte representação dos líderes do grupo de negócios, além de gerenciamento de segurança e risco.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-134">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="3d6c9-135">No fim, um andaime empresarial é sobre reduzir o risco aos negócios para facilitar a missão e os objetivos de uma organização.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-135">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives.</span></span>
> 
> 

<span data-ttu-id="3d6c9-136">A imagem a seguir descreve os componentes do andaime.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-136">The following image describes the components of the scaffold.</span></span> <span data-ttu-id="3d6c9-137">A base depende de um plano sólido para departamentos, contas e assinaturas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-137">The foundation relies on a solid plan for departments, accounts, and subscriptions.</span></span> <span data-ttu-id="3d6c9-138">Os pilares consistem em políticas do Resource Manager e sólidos padrões de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-138">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="3d6c9-139">O restante do andaime vem dos principais recursos e capacidades do Azure que possibilitam um ambiente seguro e gerenciável.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-139">The rest of the scaffold comes from core Azure capabilities and features that enable a secure and manageable environment.</span></span>

![componentes do andaime](./_images/components.png)

> [!NOTE]
> <span data-ttu-id="3d6c9-141">O Azure cresceu rapidamente desde sua apresentação em 2008.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-141">Azure has grown rapidly since its introduction in 2008.</span></span> <span data-ttu-id="3d6c9-142">Esse crescimento exigiu que as equipes de engenharia da Microsoft repensassem a abordagem de gerenciamento e implantação de serviços.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-142">This growth required Microsoft engineering teams to rethink their approach for managing and deploying services.</span></span> <span data-ttu-id="3d6c9-143">O modelo do Azure Resource Manager foi introduzido em 2014 e substitui o modelo de implantação clássico.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-143">The Azure Resource Manager model was introduced in 2014 and replaces the classic deployment model.</span></span> <span data-ttu-id="3d6c9-144">O Resource Manager permite que as organizações implantem, organizem e controlem mais facilmente os recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-144">Resource Manager enables organizations to more easily deploy, organize, and control Azure resources.</span></span> <span data-ttu-id="3d6c9-145">O Resource Manager inclui a paralelização ao criar recursos para implantação mais rápida de soluções complexas e interdependentes.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-145">Resource Manager includes parallelization when creating resources for faster deployment of complex, interdependent solutions.</span></span> <span data-ttu-id="3d6c9-146">Ele também inclui controle de acesso granular e a capacidade de marcar recursos com metadados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-146">It also includes granular access control, and the ability to tag resources with metadata.</span></span> <span data-ttu-id="3d6c9-147">A Microsoft recomenda criar todos os recursos por meio do modelo do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-147">Microsoft recommends that you create all resources through the Resource Manager model.</span></span> <span data-ttu-id="3d6c9-148">O andaime empresarial foi explicitamente desenvolvido para o modelo do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-148">The enterprise scaffold is explicitly designed for the Resource Manager model.</span></span>
> 
> 

## <a name="define-your-hierarchy"></a><span data-ttu-id="3d6c9-149">Definir sua hierarquia</span><span class="sxs-lookup"><span data-stu-id="3d6c9-149">Define your hierarchy</span></span>
<span data-ttu-id="3d6c9-150">A base do andaime é a inscrição no Azure Enterprise (e no Enterprise Portal).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-150">The foundation of the scaffold is the Azure Enterprise Enrollment (and the Enterprise Portal).</span></span> <span data-ttu-id="3d6c9-151">A inscrição empresarial define a forma e o uso dos serviços do Azure em uma empresa e é a principal estrutura de governança.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-151">The enterprise enrollment defines the shape and use of Azure services within a company and is the core governance structure.</span></span> <span data-ttu-id="3d6c9-152">No contrato empresarial, os clientes podem subdividir o ambiente em departamentos, contas e, por fim, em assinaturas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-152">Within the enterprise agreement, customers are able to further subdivide the environment into departments, accounts, and finally, subscriptions.</span></span> <span data-ttu-id="3d6c9-153">Uma assinatura do Azure é a unidade básica onde todos os recursos estão contidos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-153">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="3d6c9-154">Ela também define vários limites dentro do Azure, como o número de núcleos, recursos, etc.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-154">It also defines several limits within Azure, such as number of cores, resources, etc.</span></span>

![hierarquia](./_images/agreement.png)

<span data-ttu-id="3d6c9-156">Cada empresa é diferente e a hierarquia na imagem anterior permite flexibilidade significativa em como o Azure é organizado dentro da empresa.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-156">Every enterprise is different and the hierarchy in the previous image allows for significant flexibility in how Azure is organized within the company.</span></span> <span data-ttu-id="3d6c9-157">Antes de implementar as orientações contidas neste documento, você deve modelar a hierarquia e entender o impacto na cobrança, no acesso aos recursos e na complexidade.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-157">Before implementing the guidance contained in this document, you should model your hierarchy and understand the impact on billing, resource access, and complexity.</span></span>

<span data-ttu-id="3d6c9-158">Os três padrões comuns para inscrições do Azure são:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-158">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="3d6c9-159">O padrão **funcional**</span><span class="sxs-lookup"><span data-stu-id="3d6c9-159">The **functional** pattern</span></span>
  
    ![funcional](./_images/functional.png)
* <span data-ttu-id="3d6c9-161">O padrão da **unidade de negócios**</span><span class="sxs-lookup"><span data-stu-id="3d6c9-161">The **business unit** pattern</span></span> 
  
    ![negócios](./_images/business.png)
* <span data-ttu-id="3d6c9-163">O padrão **geográfico**</span><span class="sxs-lookup"><span data-stu-id="3d6c9-163">The **geographic** pattern</span></span>
  
    ![geográfico](./_images/geographic.png)

<span data-ttu-id="3d6c9-165">Aplique o andaime no nível de assinatura para estender os requisitos de governança da empresa na assinatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-165">You apply the scaffold at the subscription level to extend the governance requirements of the enterprise into the subscription.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="3d6c9-166">Padrões de nomenclatura</span><span class="sxs-lookup"><span data-stu-id="3d6c9-166">Naming standards</span></span>
<span data-ttu-id="3d6c9-167">O primeiro pilar do andaime são os padrões de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-167">The first pillar of the scaffold is naming standards.</span></span> <span data-ttu-id="3d6c9-168">Os padrões de nomenclatura bem definidos permitem identificar recursos no portal, em uma cobrança e dentro de scripts.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-168">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="3d6c9-169">Provavelmente, você já tem padrões de nomenclatura para a infraestrutura local.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-169">Most likely, you already have naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="3d6c9-170">Ao adicionar o Azure ao seu ambiente, você deve estender esses padrões de nomenclatura para os recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-170">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span> <span data-ttu-id="3d6c9-171">O padrão de nomenclatura facilita gerenciamento eficiente do ambiente em todos os níveis.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-171">Naming standard facilitate more efficient management of the environment at all levels.</span></span>

> [!TIP]
> <span data-ttu-id="3d6c9-172">Para convenções de nomenclatura:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-172">For naming conventions:</span></span>
> * <span data-ttu-id="3d6c9-173">Analise e adote onde possível as [Orientações de padrões e práticas](../best-practices/naming-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-173">Review and adopt where possible the [Patterns and Practices guidance](../best-practices/naming-conventions.md).</span></span> <span data-ttu-id="3d6c9-174">Essas diretrizes ajudam a decidir sobre um padrão de nomenclatura significativo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-174">This guidance helps you decide on a meaningful naming standard.</span></span>
> * <span data-ttu-id="3d6c9-175">Use camelCasing para nomes de recursos (como myResourceGroup e vnetNetworkName).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-175">Use camelCasing for names of resources (such as myResourceGroup and vnetNetworkName).</span></span> <span data-ttu-id="3d6c9-176">Observação: há determinados recursos, como contas de armazenamento, em que a única opção é usar letras minúsculas (e não outros caracteres especiais).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-176">Note: There are certain resources, such as storage accounts, where the only option is to use lower case (and no other special characters).</span></span>
> * <span data-ttu-id="3d6c9-177">Considere o uso de políticas do Azure Resource Manager (descritas na próxima seção) para impor padrões de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-177">Consider using Azure Resource Manager policies (described in the next section) to enforce naming standards.</span></span>
> 
> <span data-ttu-id="3d6c9-178">As dicas anteriores lhe ajudarão-lo a implementar uma convenção de nomenclatura consistente.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-178">The preceding tips help you implement a consistent naming convention.</span></span>

## <a name="policies-and-auditing"></a><span data-ttu-id="3d6c9-179">Políticas e auditoria</span><span class="sxs-lookup"><span data-stu-id="3d6c9-179">Policies and auditing</span></span>
<span data-ttu-id="3d6c9-180">O segundo pilar do andaime envolve a criação das[políticas do Azure](/azure/azure-policy/azure-policy-introduction) e a [auditoria do log de atividades](/azure/azure-resource-manager/resource-group-audit).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-180">The second pillar of the scaffold involves creating [Azure policies](/azure/azure-policy/azure-policy-introduction) and [auditing the activity log](/azure/azure-resource-manager/resource-group-audit).</span></span> <span data-ttu-id="3d6c9-181">As políticas do Resource Manager fornecem a capacidade de gerenciar riscos no Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-181">Resource Manager policies provide you with the ability to manage risk in Azure.</span></span> <span data-ttu-id="3d6c9-182">Você pode definir políticas que garantem o domínio dos dados, restringindo, impondo ou auditando determinadas ações.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-182">You can define policies that ensure data sovereignty by restricting, enforcing, or auditing certain actions.</span></span> 

* <span data-ttu-id="3d6c9-183">A política é um sistema de **permissão** padrão.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-183">Policy is a default **allow** system.</span></span> <span data-ttu-id="3d6c9-184">Controle ações definindo e atribuindo políticas a recursos que negam ou auditam ações nos recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-184">You control actions by defining and assigning policies to resources that deny or audit actions on resources.</span></span>
* <span data-ttu-id="3d6c9-185">As políticas são descritas pelas definições de política em uma linguagem de definição de política (condições "se-então").</span><span class="sxs-lookup"><span data-stu-id="3d6c9-185">Policies are described by policy definitions in a policy definition language (if-then conditions).</span></span>
* <span data-ttu-id="3d6c9-186">Crie políticas com arquivos formatados para JSON (Javascript Object Notation).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-186">You create polices with JSON (Javascript Object Notation) formatted files.</span></span> <span data-ttu-id="3d6c9-187">Após definir uma política, atribua-a a um escopo específico: assinatura, grupo de recursos ou recurso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-187">After defining a policy, you assign it to a particular scope: subscription, resource group, or resource.</span></span>

<span data-ttu-id="3d6c9-188">As políticas têm várias ações que permitem uma abordagem refinada para seus cenários.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-188">Policies have multiple actions that allow for a fine-grained approach to your scenarios.</span></span> <span data-ttu-id="3d6c9-189">As ações são:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-189">The actions are:</span></span>

* <span data-ttu-id="3d6c9-190">**Negar**: bloqueia a solicitação do recurso</span><span class="sxs-lookup"><span data-stu-id="3d6c9-190">**Deny**: Blocks the resource request</span></span>
* <span data-ttu-id="3d6c9-191">**Auditar**: permite a solicitação, mas adiciona uma linha ao log de atividades (que pode ser usado para fornecer alertas ou disparar runbooks)</span><span class="sxs-lookup"><span data-stu-id="3d6c9-191">**Audit**: Allows the request but adds a line to the activity log (which can be used to provide alerts or to trigger runbooks)</span></span>
* <span data-ttu-id="3d6c9-192">**Acrescentar**: adiciona informações especificadas ao recurso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-192">**Append**: Adds specified information to the resource.</span></span> <span data-ttu-id="3d6c9-193">Por exemplo, se não houver uma marcação "CostCenter" em um recurso, adicione essa marcação com um valor padrão.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-193">For example, if there is not a "CostCenter" tag on a resource, add that tag with a default value.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="3d6c9-194">Usos comuns das políticas do Resource Manager</span><span class="sxs-lookup"><span data-stu-id="3d6c9-194">Common uses of Resource Manager policies</span></span>
<span data-ttu-id="3d6c9-195">As políticas do Azure Resource Manager são uma poderosa ferramenta do kit de ferramentas do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-195">Azure Resource Manager policies are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="3d6c9-196">Elas permitem evitar custos inesperados, de modo a identificar um centro de custos para recursos por meio de marcação, e garantir que os requisitos de conformidade sejam atendidos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-196">They enable you to avoid unexpected costs, to identify a cost center for resources through tagging, and to ensure that compliancy requirements are met.</span></span> <span data-ttu-id="3d6c9-197">Quando as políticas são combinadas com os recursos internos de auditoria, você pode adaptar soluções complexas e flexíveis.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-197">When policies are combined with the built-in auditing features, you can fashion complex and flexible solutions.</span></span> <span data-ttu-id="3d6c9-198">As políticas permitem às empresas fornecer controles para cargas de trabalho "TI Tradicional" e cargas de trabalho "Ágeis"; por exemplo, para desenvolver aplicativos para cliente.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-198">Policies allow companies to provide controls for "Traditional IT" workloads and "Agile" workloads; such as, developing customer applications.</span></span> <span data-ttu-id="3d6c9-199">Os padrões mais comuns que vemos para políticas são:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-199">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="3d6c9-200">**Domínio geográfico de conformidade/dados**: o Azure fornece regiões pelo mundo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-200">**Geo-compliance/data sovereignty** - Azure provides regions across the world.</span></span> <span data-ttu-id="3d6c9-201">Muitas vezes, as empresas desejam controlar onde os recursos são criados (seja para garantir o domínio dos dados, seja apenas para garantir que os recursos sejam criados para os consumidores finais dos recursos).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-201">Enterprises often wish to control where resources are created (whether to ensure data sovereignty or just to ensure resources are created close to the end consumers of the resources).</span></span>
* <span data-ttu-id="3d6c9-202">**Gerenciamento de custo**: uma assinatura do Azure pode conter recursos de muitos tipos e escala.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-202">**Cost management** - An Azure subscription can contain resources of many types and scale.</span></span> <span data-ttu-id="3d6c9-203">As empresas muitas vezes querem garantir que as assinaturas padrão evitem usar muitos recursos desnecessariamente, o que pode custar muito dinheiro no mês ou no ano.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-203">Corporations often wish to ensure that standard subscriptions avoid using unnecessarily large resources, which can cost hundreds of dollars a month or more.</span></span>
* <span data-ttu-id="3d6c9-204">**Governança padrão por meio de marcações obrigatórias**: exigir marcações é um dos recursos mais comuns e altamente desejados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-204">**Default governance through required tags** - Requiring tags is one of the most common and highly desired features.</span></span> <span data-ttu-id="3d6c9-205">Usando políticas do Azure Resource Manager, as empresas são capazes de garantir que um recurso seja apropriadamente marcado.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-205">Using Azure Resource Manager Policies enterprises are able to ensure that a resource is appropriately tagged.</span></span> <span data-ttu-id="3d6c9-206">As marcações mais comuns são: Departamento, Proprietário do Recurso e tipo de Ambiente (por exemplo: produção, teste, desenvolvimento)</span><span class="sxs-lookup"><span data-stu-id="3d6c9-206">The most common tags are: Department, Resource Owner, and Environment type (for example - production, test, development)</span></span>

<span data-ttu-id="3d6c9-207">**Exemplos**</span><span class="sxs-lookup"><span data-stu-id="3d6c9-207">**Examples**</span></span>

<span data-ttu-id="3d6c9-208">Assinatura de "TI Tradicional" para aplicativos de linha de negócios</span><span class="sxs-lookup"><span data-stu-id="3d6c9-208">"Traditional IT" subscription for line-of-business applications</span></span>

* <span data-ttu-id="3d6c9-209">Impor as marcações Departamento e Proprietário a todos os recursos</span><span class="sxs-lookup"><span data-stu-id="3d6c9-209">Enforce Department and Owner tags on all resources</span></span>
* <span data-ttu-id="3d6c9-210">Restringir a criação de recursos à região América do Norte</span><span class="sxs-lookup"><span data-stu-id="3d6c9-210">Restrict resource creation to the North American Region</span></span>
* <span data-ttu-id="3d6c9-211">Restringir a capacidade de criar VMs da série G e Clusters HDInsight</span><span class="sxs-lookup"><span data-stu-id="3d6c9-211">Restrict the ability to create G-Series VMs and HDInsight Clusters</span></span>

<span data-ttu-id="3d6c9-212">Ambiente "Ágil" para uma unidade de negócios que cria aplicativos de nuvem</span><span class="sxs-lookup"><span data-stu-id="3d6c9-212">"Agile" Environment for a business unit creating cloud applications</span></span>

* <span data-ttu-id="3d6c9-213">Para atender aos requisitos de domínio de dados, permita a criação de recursos APENAS em uma região específica.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-213">To meet data sovereignty requirements, allow the creation of resources ONLY in a specific region.</span></span>
* <span data-ttu-id="3d6c9-214">Impor a marcação Ambiente a todos os recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-214">Enforce Environment tag on all resources.</span></span> <span data-ttu-id="3d6c9-215">Se um recurso for criado sem uma marcação, acrescente a marcação **Ambiente: desconhecido** ao recurso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-215">If a resource is created without a tag, append the **Environment: Unknown** tag to the resource.</span></span>
* <span data-ttu-id="3d6c9-216">Fazer auditoria quando os recursos forem criados fora da América do Norte, mas não impedir.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-216">Audit when resources are created outside of North America but do not prevent.</span></span>
* <span data-ttu-id="3d6c9-217">Fazer auditoria quando recursos de alto custo forem criados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-217">Audit when high-cost resources are created.</span></span>

> [!TIP]
> <span data-ttu-id="3d6c9-218">O uso mais comum das políticas do Resource Manager entre organizações é controlar *onde* os recursos podem ser criados e *quais* tipos de recurso podem ser criados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-218">The most common use of Resource Manager policies across organizations is to control *where* resources can be created and *what* types of resources can be created.</span></span> <span data-ttu-id="3d6c9-219">Além de fornecer controles sobre *onde* e *quais*, muitas empresas usam políticas para garantir que os recursos tenham os metadados apropriados para cobrar pelo consumo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-219">In addition to providing controls on *where* and *what*, many enterprises use policies to ensure resources have the appropriate metadata to bill back for consumption.</span></span> <span data-ttu-id="3d6c9-220">É recomendável aplicar políticas no nível de assinatura para:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-220">We recommend applying policies at the subscription level for:</span></span>
> 
> * <span data-ttu-id="3d6c9-221">Domínio geográfico de conformidade/dados</span><span class="sxs-lookup"><span data-stu-id="3d6c9-221">Geo-compliance/data sovereignty</span></span>
> * <span data-ttu-id="3d6c9-222">Gerenciamento de custo</span><span class="sxs-lookup"><span data-stu-id="3d6c9-222">Cost management</span></span>
> * <span data-ttu-id="3d6c9-223">Marcações obrigatórias (determinadas pelas necessidades de negócios, como BillTo, Proprietário do Aplicativo)</span><span class="sxs-lookup"><span data-stu-id="3d6c9-223">Required tags (Determined by business need, such as BillTo, Application Owner)</span></span>
> 
> <span data-ttu-id="3d6c9-224">Você pode aplicar políticas adicionais em níveis inferiores do escopo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-224">You can apply additional policies at lower levels of scope.</span></span>
> 
> 

### <a name="audit---what-happened"></a><span data-ttu-id="3d6c9-225">Auditoria — o que aconteceu?</span><span class="sxs-lookup"><span data-stu-id="3d6c9-225">Audit - what happened?</span></span>
<span data-ttu-id="3d6c9-226">Para exibir o funcionamento do seu ambiente, você precisa auditar a atividade do usuário.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-226">To view how your environment is functioning, you need to audit user activity.</span></span> <span data-ttu-id="3d6c9-227">A maioria dos tipos de recursos no Azure cria logs de diagnóstico que você pode analisar por meio de uma ferramenta de log ou no Azure Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-227">Most resource types within Azure create diagnostic logs that you can analyze through a log tool or in Azure Log Analytics.</span></span> <span data-ttu-id="3d6c9-228">É possível coletar logs de atividades em várias assinaturas para fornecer uma visão departamental ou empresarial.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-228">You can gather activity logs across multiple subscriptions to provide a departmental or enterprise view.</span></span> <span data-ttu-id="3d6c9-229">Os registros de auditoria são uma ferramenta importante de diagnóstico e um mecanismo crucial para disparar eventos no ambiente do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-229">Audit records are both an important diagnostic tool and a crucial mechanism to trigger events in the Azure environment.</span></span>

<span data-ttu-id="3d6c9-230">Os logs de atividades das implantações do Resource Manager permitem determinar as **operações** que ocorreram e quem as executou.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-230">Activity logs from Resource Manager deployments enable you to determine the **operations** that took place and who performed them.</span></span> <span data-ttu-id="3d6c9-231">Os logs de atividades podem ser coletados e agregados usando ferramentas como o Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-231">Activity logs can be collected and aggregated using tools like Log Analytics.</span></span>

## <a name="resource-tags"></a><span data-ttu-id="3d6c9-232">Marcações de recursos</span><span class="sxs-lookup"><span data-stu-id="3d6c9-232">Resource tags</span></span>
<span data-ttu-id="3d6c9-233">Conforme os usuários em sua organização adicionam recursos à assinatura, torna-se cada vez mais importante associar recursos ao departamento, cliente e ambiente apropriados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-233">As users in your organization add resources to the subscription, it becomes increasingly important to associate resources with the appropriate department, customer, and environment.</span></span> <span data-ttu-id="3d6c9-234">Você pode anexar metadados a recursos por meio de [marcações](/azure/azure-resource-manager/resource-group-using-tags).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-234">You can attach metadata to resources through [tags](/azure/azure-resource-manager/resource-group-using-tags).</span></span> <span data-ttu-id="3d6c9-235">Você pode usar marcações para fornecer informações sobre o recurso ou o proprietário.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-235">You use tags to provide information about the resource or the owner.</span></span> <span data-ttu-id="3d6c9-236">Além de permitir agregar e agrupar recursos de várias maneiras, as marcações usam esses dados para a finalidade de estorno.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-236">Tags enable you to not only aggregate and group resources in various ways, but use that data for the purposes of chargeback.</span></span> <span data-ttu-id="3d6c9-237">Você pode marcar recursos com até 15 pares de chave/valor.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-237">You can tag resources with up to 15 key:value pairs.</span></span> 

<span data-ttu-id="3d6c9-238">As marcações de recurso são flexíveis e devem ser anexadas à maioria dos recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-238">Resource tags are flexible and should be attached to most resources.</span></span> <span data-ttu-id="3d6c9-239">Os exemplos de marcações de recurso comuns são:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-239">Examples of common resource tags are:</span></span>

* <span data-ttu-id="3d6c9-240">BillTo</span><span class="sxs-lookup"><span data-stu-id="3d6c9-240">BillTo</span></span>
* <span data-ttu-id="3d6c9-241">Departamento (ou Unidade de Negócios)</span><span class="sxs-lookup"><span data-stu-id="3d6c9-241">Department (or Business Unit)</span></span>
* <span data-ttu-id="3d6c9-242">Ambiente (Produção, Preparação, Desenvolvimento)</span><span class="sxs-lookup"><span data-stu-id="3d6c9-242">Environment (Production, Stage, Development)</span></span>
* <span data-ttu-id="3d6c9-243">Camada (Camada da Web, Camada de Aplicativo)</span><span class="sxs-lookup"><span data-stu-id="3d6c9-243">Tier (Web Tier, Application Tier)</span></span>
* <span data-ttu-id="3d6c9-244">Proprietário do Aplicativo</span><span class="sxs-lookup"><span data-stu-id="3d6c9-244">Application Owner</span></span>
* <span data-ttu-id="3d6c9-245">ProjectName</span><span class="sxs-lookup"><span data-stu-id="3d6c9-245">ProjectName</span></span>

![marcas](./_images/resource-group-tagging.png)

<span data-ttu-id="3d6c9-247">Para obter mais exemplos de marcações, confira [Convenções de nomenclatura recomendadas para recursos do Azure](../best-practices/naming-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-247">For more examples of tags, see [Recommended naming conventions for Azure resources](../best-practices/naming-conventions.md).</span></span>

> [!TIP]
> <span data-ttu-id="3d6c9-248">Considere criar uma política que exija marcação para:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-248">Consider making a policy that mandates tagging for:</span></span>
> 
> * <span data-ttu-id="3d6c9-249">Grupos de recursos</span><span class="sxs-lookup"><span data-stu-id="3d6c9-249">Resource groups</span></span>
> * <span data-ttu-id="3d6c9-250">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="3d6c9-250">Storage</span></span>
> * <span data-ttu-id="3d6c9-251">Máquinas Virtuais</span><span class="sxs-lookup"><span data-stu-id="3d6c9-251">Virtual Machines</span></span>
> * <span data-ttu-id="3d6c9-252">Servidores Web/Ambientes do Serviço de Aplicativo</span><span class="sxs-lookup"><span data-stu-id="3d6c9-252">Application Service Environments/web servers</span></span>
> 
> <span data-ttu-id="3d6c9-253">Essa estratégia de marcação identifica nas assinaturas quais metadados são necessários para os negócios, as finanças, a segurança, o gerenciamento de riscos e o gerenciamento geral do ambiente.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-253">This tagging strategy identifies across your subscriptions what metadata is needed for the business, finance, security, risk management, and overall management of the environment.</span></span> 

## <a name="resource-group"></a><span data-ttu-id="3d6c9-254">Grupo de recursos</span><span class="sxs-lookup"><span data-stu-id="3d6c9-254">Resource group</span></span>
<span data-ttu-id="3d6c9-255">O Resource Manager permite colocar recursos em grupos significativos para gerenciamento, cobrança ou afinidade natural.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-255">Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="3d6c9-256">Conforme mencionado anteriormente, o Azure tem dois modelos de implantação.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-256">As mentioned earlier, Azure has two deployment models.</span></span> <span data-ttu-id="3d6c9-257">No modelo Clássico mais antigo, a unidade básica de gerenciamento era a assinatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-257">In the earlier Classic model, the basic unit of management was the subscription.</span></span> <span data-ttu-id="3d6c9-258">Era difícil dividir recursos em uma assinatura, o que levou à criação de um grande número de assinaturas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-258">It was difficult to break down resources within a subscription, which led to the creation of large numbers of subscriptions.</span></span> <span data-ttu-id="3d6c9-259">Com o modelo do Resource Manager, vimos a introdução dos grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-259">With the Resource Manager model, we saw the introduction of resource groups.</span></span> <span data-ttu-id="3d6c9-260">Os grupos de recursos são contêineres de recursos que têm um ciclo de vida comum ou compartilham um atributo, como "todos os servidores SQL" ou "Aplicativo A".</span><span class="sxs-lookup"><span data-stu-id="3d6c9-260">Resource groups are containers of resources that have a common lifecycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="3d6c9-261">Os grupos de recursos não podem ser contidos um dentro do outro e os recursos podem pertencer apenas a um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-261">Resource groups cannot be contained within each other and resources can only belong to one resource group.</span></span> <span data-ttu-id="3d6c9-262">É possível aplicar determinadas ações em todos os recursos em um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-262">You can apply certain actions on all resources in a resource group.</span></span> <span data-ttu-id="3d6c9-263">Por exemplo, a exclusão de um grupo de recursos remove todos os recursos do grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-263">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="3d6c9-264">Normalmente, você coloca um aplicativo inteiro ou sistema relacionado no mesmo grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-264">Typically, you place an entire application or related system in the same resource group.</span></span> <span data-ttu-id="3d6c9-265">Por exemplo, um aplicativo de três camadas chamado Aplicativo Web da Contoso conteria o servidor Web, o servidor de aplicativos e o servidor SQL no mesmo grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-265">For example, a three-tier application called Contoso Web Application would contain the web server, application server and SQL server in the same resource group.</span></span>

> [!TIP]
> <span data-ttu-id="3d6c9-266">O modo como organizar os grupos de recursos pode variar de cargas de trabalho de "TI Tradicional" a cargas de trabalho de "TI Ágil":</span><span class="sxs-lookup"><span data-stu-id="3d6c9-266">How you organize your resource groups may vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>
> 
> * <span data-ttu-id="3d6c9-267">As cargas de trabalho "TI Tradicional" são mais frequentemente agrupadas por itens no mesmo ciclo de vida, como um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-267">"Traditional IT" workloads are most commonly grouped by items within the same lifecycle, such as an application.</span></span> <span data-ttu-id="3d6c9-268">O agrupamento por aplicativo permite o gerenciamento individual de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-268">Grouping by application allows for individual application management.</span></span>
> * <span data-ttu-id="3d6c9-269">As cargas de trabalho "TI da Agile" tendem a se concentrar nos aplicativos de nuvem voltados para o cliente.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-269">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="3d6c9-270">Os grupos de recursos devem refletir as camadas da implantação (como Camada da Web, Camada de Aplicativo) e o gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-270">The resource groups should reflect the layers of deployment (such as Web Tier, App Tier) and management.</span></span>
> 
> <span data-ttu-id="3d6c9-271">Noções básicas sobre sua carga de trabalho ajudam a desenvolver uma estratégia de grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-271">Understanding your workload helps you develop a resource group strategy.</span></span>

## <a name="role-based-access-control"></a><span data-ttu-id="3d6c9-272">Controle de acesso baseado em função</span><span class="sxs-lookup"><span data-stu-id="3d6c9-272">Role-based access control</span></span>
<span data-ttu-id="3d6c9-273">Você provavelmente está se perguntando: "quem deve ter acesso aos recursos?"</span><span class="sxs-lookup"><span data-stu-id="3d6c9-273">You probably are asking yourself "who should have access to resources?"</span></span> <span data-ttu-id="3d6c9-274">e "como controlar esse acesso?"</span><span class="sxs-lookup"><span data-stu-id="3d6c9-274">and "how do I control this access?"</span></span> <span data-ttu-id="3d6c9-275">Permitir ou negar acesso ao portal do Azure, bem como controlar o acesso aos recursos no portal é essencial.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-275">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is crucial.</span></span> 

<span data-ttu-id="3d6c9-276">Quando o Azure foi inicialmente lançado, os controles de acesso para uma assinatura eram básicos: Administrador ou Coadministrador.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-276">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="3d6c9-277">O acesso a uma assinatura no modelo Clássico implicava acesso a todos os recursos no portal.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-277">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="3d6c9-278">Essa falta de um controle refinado levou à proliferação de assinaturas para fornecer um nível de controle de acesso razoável para uma Inscrição no Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-278">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span>

<span data-ttu-id="3d6c9-279">Essa proliferação de assinaturas não é mais necessária.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-279">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="3d6c9-280">Com o controle de acesso baseado em função, você pode atribuir usuários às funções padrão (como tipos de função comuns "leitor" e "gravador").</span><span class="sxs-lookup"><span data-stu-id="3d6c9-280">With role-based access control, you can assign users to standard roles (such as common "reader" and "writer" types of roles).</span></span> <span data-ttu-id="3d6c9-281">Você também pode definir funções personalizadas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-281">You can also define custom roles.</span></span>

> [!TIP]
> <span data-ttu-id="3d6c9-282">Para implementar um controle de acesso baseado em função:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-282">To implement role-based access control:</span></span>
> * <span data-ttu-id="3d6c9-283">Conecte seu repositório de identidades corporativo (mais frequentemente, o Active Directory) ao Azure Active Directory usando a ferramenta AD Connect.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-283">Connect your corporate identity store (most commonly Active Directory) to Azure Active Directory using the AD Connect tool.</span></span>
> * <span data-ttu-id="3d6c9-284">Controle o Administrador/Coadministrador de uma assinatura usando uma identidade gerenciada.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-284">Control the Admin/Co-Admin of a subscription using a managed identity.</span></span> <span data-ttu-id="3d6c9-285">**Não** atribua Administrador/Coadministrador a um novo proprietário da assinatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-285">**Don't** assign Admin/Co-admin to a new subscription owner.</span></span> <span data-ttu-id="3d6c9-286">Em vez disso, use funções RBAC para fornecer direitos de **Proprietário** a um grupo ou indivíduo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-286">Instead, use RBAC roles to provide **Owner** rights to a group or individual.</span></span>
> * <span data-ttu-id="3d6c9-287">Adicione usuários do Azure a um grupo (por exemplo, Proprietários do Aplicativo X) no Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-287">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="3d6c9-288">Use o grupo sincronizado para fornecer aos membros do grupo os direitos apropriados para gerenciar o grupo de recursos que contém o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-288">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
> * <span data-ttu-id="3d6c9-289">Siga o princípio de conceder o **privilégio mínimo** exigido para realizar o trabalho esperado.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-289">Follow the principle of granting the **least privilege** required to do the expected work.</span></span> <span data-ttu-id="3d6c9-290">Por exemplo: </span><span class="sxs-lookup"><span data-stu-id="3d6c9-290">For example:</span></span>
>   * <span data-ttu-id="3d6c9-291">Grupo de Implantação: um grupo que só é capaz de implantar recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-291">Deployment Group: A group that is only able to deploy resources.</span></span>
>   * <span data-ttu-id="3d6c9-292">Gerenciamento de Máquinas Virtuais: um grupo que é capaz de reiniciar VMs (para operações)</span><span class="sxs-lookup"><span data-stu-id="3d6c9-292">Virtual Machine Management: A group that is able to restart VMs (for operations)</span></span>
> 
> <span data-ttu-id="3d6c9-293">Essas dicas ajudam a gerenciar o acesso do usuário em sua assinatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-293">These tips help you manage user access across your subscription.</span></span>

## <a name="azure-resource-locks"></a><span data-ttu-id="3d6c9-294">Bloqueios de recursos do Azure</span><span class="sxs-lookup"><span data-stu-id="3d6c9-294">Azure resource locks</span></span>
<span data-ttu-id="3d6c9-295">À medida que sua organização adiciona serviços principais à assinatura, torna-se cada vez mais importante garantir que esses serviços estejam disponíveis para evitar interrupção nos negócios.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-295">As your organization adds core services to the subscription, it becomes increasingly important to ensure that those services are available to avoid business disruption.</span></span> <span data-ttu-id="3d6c9-296">Os [Bloqueios de recursos](/azure/azure-resource-manager/resource-group-lock-resources) permitem restringir operações nos recursos de alto valor, onde sua modificação ou exclusão teria um impacto significativo nos aplicativos ou na infraestrutura da nuvem.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-296">[Resource locks](/azure/azure-resource-manager/resource-group-lock-resources) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact on your applications or cloud infrastructure.</span></span> <span data-ttu-id="3d6c9-297">Você pode aplicar bloqueios a uma assinatura, um grupo de recursos ou um recurso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-297">You can apply locks to a subscription, resource group, or resource.</span></span> <span data-ttu-id="3d6c9-298">Normalmente, você aplica bloqueios a recursos fundamentais, como redes virtuais, gateways e contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-298">Typically, you apply locks to foundational resources such as virtual networks, gateways, and storage accounts.</span></span> 

<span data-ttu-id="3d6c9-299">Atualmente, os Bloqueios de recursos aceitam dois valores: CanNotDelete e ReadOnly.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-299">Resource locks currently support two values: CanNotDelete and ReadOnly.</span></span> <span data-ttu-id="3d6c9-300">CanNotDelete significa que os usuários (com os direitos apropriados) ainda podem ler ou modificar um recurso, mas não podem excluí-lo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-300">CanNotDelete means that users (with the appropriate rights) can still read or modify a resource but cannot delete it.</span></span> <span data-ttu-id="3d6c9-301">ReadOnly significa que usuários autorizados não podem excluir nem modificar um recurso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-301">ReadOnly means that authorized users can't delete or modify a resource.</span></span>

<span data-ttu-id="3d6c9-302">Para criar ou excluir bloqueios de gerenciamento, você deve ter acesso às ações `Microsoft.Authorization/*` ou `Microsoft.Authorization/locks/*`.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-302">To create or delete management locks, you must have access to `Microsoft.Authorization/*` or `Microsoft.Authorization/locks/*` actions.</span></span>
<span data-ttu-id="3d6c9-303">Das funções internas, somente Proprietário e Administrador do Acesso de Usuário recebem essas ações.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-303">Of the built-in roles, only Owner and User Access Administrator are granted those actions.</span></span>

> [!TIP]
> <span data-ttu-id="3d6c9-304">As opções de rede principais devem ser protegidas com bloqueios.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-304">Core network options should be protected with locks.</span></span> <span data-ttu-id="3d6c9-305">A exclusão acidental de uma VPN site a site, de gateway seria desastroso para uma assinatura do Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-305">Accidental deletion of a gateway, site-to-site VPN would be disastrous to an Azure subscription.</span></span> <span data-ttu-id="3d6c9-306">O Azure não permite a exclusão de uma rede virtual que esteja em uso, mas aplicar mais restrições é uma precaução útil.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-306">Azure doesn't allow you to delete a virtual network that is in use, but applying more restrictions is a helpful precaution.</span></span> 
> 
> * <span data-ttu-id="3d6c9-307">Rede virtual: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="3d6c9-307">Virtual Network: CanNotDelete</span></span>
> * <span data-ttu-id="3d6c9-308">Grupo de Segurança de Rede: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="3d6c9-308">Network Security Group: CanNotDelete</span></span>
> * <span data-ttu-id="3d6c9-309">Políticas: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="3d6c9-309">Policies: CanNotDelete</span></span>
> 
> <span data-ttu-id="3d6c9-310">As políticas também são essenciais para a manutenção dos controles adequados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-310">Policies are also crucial to the maintenance of appropriate controls.</span></span> <span data-ttu-id="3d6c9-311">É recomendável aplicar um bloqueio **CanNotDelete** para políticas que estão em uso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-311">We recommend that you apply a **CanNotDelete** lock to polices that are in use.</span></span>

## <a name="core-networking-resources"></a><span data-ttu-id="3d6c9-312">Recursos de rede essenciais</span><span class="sxs-lookup"><span data-stu-id="3d6c9-312">Core networking resources</span></span>
<span data-ttu-id="3d6c9-313">O acesso a recursos pode ser interno (dentro da rede da empresa) ou externo (por meio da Internet).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-313">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="3d6c9-314">É fácil para os usuários em sua organização colocar recursos inadvertidamente no ponto errado e potencialmente abri-los para o acesso mal-intencionado.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-314">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="3d6c9-315">Assim como acontece com dispositivos locais, as empresas devem adicionar os controles adequados para garantir que os usuários do Azure tomam as decisões certas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-315">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="3d6c9-316">Para governança da assinatura, identificamos recursos principais que fornecem controle básico de acesso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-316">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="3d6c9-317">Os principais recursos consistem em:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-317">The core resources consist of:</span></span>

* <span data-ttu-id="3d6c9-318">**Redes virtuais** são objetos de contêiner para sub-redes.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-318">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="3d6c9-319">Embora não sejam estritamente necessárias, geralmente elas são usadas ao conectar aplicativos aos recursos corporativos internos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-319">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="3d6c9-320">Os **grupos de segurança de rede** são semelhantes a um firewall e fornecem regras de como um recurso pode "falar" pela rede.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-320">**Network security groups** are similar to a firewall and provide rules for how a resource can "talk" over the network.</span></span> <span data-ttu-id="3d6c9-321">Eles fornecem controle granular sobre como/se uma sub-rede (ou máquina virtual) pode se conectar à Internet ou a outras sub-redes na mesma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-321">They provide granular control over how/if a subnet (or virtual machine) can connect to the Internet or other subnets in the same virtual network.</span></span>

![rede principal](./_images/core-network.png)

> [!TIP]
> <span data-ttu-id="3d6c9-323">Para rede:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-323">For networking:</span></span>
> * <span data-ttu-id="3d6c9-324">Crie redes virtuais dedicadas a cargas de trabalho externas e internas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-324">Create virtual networks dedicated to external-facing workloads and internal-facing workloads.</span></span> <span data-ttu-id="3d6c9-325">Essa abordagem reduz a possibilidade de colocar acidentalmente máquinas virtuais que são destinadas a cargas de trabalho internas em um espaço voltado para as cargas externas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-325">This approach reduces the chance of inadvertently placing virtual machines that are intended for internal workloads in an external facing space.</span></span>
> * <span data-ttu-id="3d6c9-326">Configure grupos de segurança de rede para limitar o acesso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-326">Configure network security groups to limit access.</span></span> <span data-ttu-id="3d6c9-327">No mínimo, bloqueie o acesso à Internet em redes virtuais internas e bloqueie o acesso à rede corporativa em redes virtuais externas.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-327">At a minimum, block access to the internet from internal virtual networks, and block access to the corporate network from external virtual networks.</span></span>
> 
> <span data-ttu-id="3d6c9-328">Essas dicas lhe ajudarão a implementar recursos de rede seguros.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-328">These tips help you implement secure networking resources.</span></span>

### <a name="automation"></a><span data-ttu-id="3d6c9-329">Automação</span><span class="sxs-lookup"><span data-stu-id="3d6c9-329">Automation</span></span>
<span data-ttu-id="3d6c9-330">Gerenciar recursos individualmente é demorado e potencialmente sujeito a erros para determinadas operações.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-330">Managing resources individually is both time-consuming and potentially error prone for certain operations.</span></span> <span data-ttu-id="3d6c9-331">O Azure fornece vários recursos de automação, incluindo Automação do Azure, Aplicativos Lógicos e Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-331">Azure provides various automation capabilities including Azure Automation, Logic Apps, and Azure Functions.</span></span> <span data-ttu-id="3d6c9-332">A [Automação do Azure](/azure/automation/automation-intro) permite aos administradores criar e definir runbooks para lidar com tarefas comuns no gerenciamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-332">[Azure Automation](/azure/automation/automation-intro) enables administrators to create and define runbooks to handle common tasks in managing resources.</span></span> <span data-ttu-id="3d6c9-333">Crie runbooks usando um editor de código do PowerShell ou um editor gráfico.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-333">You create runbooks by using either a PowerShell code editor or a graphical editor.</span></span> <span data-ttu-id="3d6c9-334">Você pode produzir fluxos de trabalho complexos de vários estágios.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-334">You can produce complex multi-stage workflows.</span></span> <span data-ttu-id="3d6c9-335">A Automação do Azure geralmente é usada para lidar com tarefas comuns, como desligar recursos não utilizados ou criar recursos em resposta a um gatilho específico sem a necessidade de intervenção humana.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-335">Azure Automation is often used to handle common tasks such as shutting down unused resources, or creating resources in response to a specific trigger without needing human intervention.</span></span>

> [!TIP]
> <span data-ttu-id="3d6c9-336">Para automação:</span><span class="sxs-lookup"><span data-stu-id="3d6c9-336">For automation:</span></span>
> * <span data-ttu-id="3d6c9-337">Crie uma conta de Automação do Azure e examine os runbooks (linha de comando e gráfico) disponíveis na [Galeria de Runbooks](/azure/automation/automation-runbook-gallery).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-337">Create an Azure Automation account and review the available runbooks (both graphical and command line) available in the [Runbook Gallery](/azure/automation/automation-runbook-gallery).</span></span>
> * <span data-ttu-id="3d6c9-338">Importe e personalize runbooks importantes para seu próprio uso.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-338">Import and customize key runbooks for your own use.</span></span>
> 
> <span data-ttu-id="3d6c9-339">Um cenário comum é a capacidade de Iniciar/Desligar máquinas virtuais de modo programado.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-339">A common scenario is the ability to Start/Shutdown virtual machines on a schedule.</span></span> <span data-ttu-id="3d6c9-340">Há runbooks de exemplo que estão disponíveis na Galeria que lidam com esse cenário e ensinam como expandi-lo.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-340">There are example runbooks that are available in the Gallery that both handle this scenario and teach you how to expand it.</span></span>
> 
> 

## <a name="azure-security-center"></a><span data-ttu-id="3d6c9-341">Central de Segurança do Azure</span><span class="sxs-lookup"><span data-stu-id="3d6c9-341">Azure Security Center</span></span>
<span data-ttu-id="3d6c9-342">Talvez um dos maiores impedimentos à adoção da nuvem tenham sido as preocupações com a segurança.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-342">Perhaps one of the biggest blockers to cloud adoption has been the concerns over security.</span></span> <span data-ttu-id="3d6c9-343">Os gerentes de risco à TI e os departamentos de segurança precisam garantir que esses recursos no Azure sejam seguros.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-343">IT risk managers and security departments need to ensure that resources in Azure are secure.</span></span> 

<span data-ttu-id="3d6c9-344">A [Central de Segurança do Azure](/azure/security-center/security-center-intro) fornece uma visão central do status de segurança dos recursos nas assinaturas, além de recomendações que ajudam a evitar recursos comprometidos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-344">The [Azure Security Center](/azure/security-center/security-center-intro) provides a central view of the security status of resources in the subscriptions, and provides recommendations that help prevent compromised resources.</span></span> <span data-ttu-id="3d6c9-345">Ela pode permitir políticas mais granulares (por exemplo, aplicar políticas a grupos de recursos específicos que permitem à empresa adaptar sua postura ao risco que está enfrentando).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-345">It can enable more granular policies (for example, applying policies to specific resource groups that allow the enterprise to tailor their posture to the risk they are addressing).</span></span> <span data-ttu-id="3d6c9-346">Por fim, a Central de Segurança do Azure é uma plataforma aberta que permite aos parceiros da Microsoft e fornecedores de software independentes criar software que se conecte à Central de Segurança do Azure para aprimorar seus recursos.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-346">Finally, Azure Security Center is an open platform that enables Microsoft partners and independent software vendors to create software that plugs into Azure Security Center to enhance its capabilities.</span></span> 

> [!TIP]
> <span data-ttu-id="3d6c9-347">A Central de Segurança do Azure é habilitada por padrão em cada assinatura.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-347">Azure Security Center is enabled by default in each subscription.</span></span> <span data-ttu-id="3d6c9-348">No entanto, você deve habilitar a coleta de dados em máquinas virtuais de modo a permitir que a Central de Segurança do Azure instale seu agente e comece a coletar dados.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-348">However, you must enable data collection from virtual machines to allow Azure Security Center to install its agent and begin gathering data.</span></span>
> 
> ![coleta de dados](./_images/data-collection.png)
> 
> 

## <a name="next-steps"></a><span data-ttu-id="3d6c9-350">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="3d6c9-350">Next steps</span></span>
* <span data-ttu-id="3d6c9-351">Agora que você aprendeu sobre governança de assinatura, é hora de ver essas recomendações na prática.</span><span class="sxs-lookup"><span data-stu-id="3d6c9-351">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="3d6c9-352">Veja [Exemplos de implementação da governança de assinatura do Azure](subscription-governance-examples.md).</span><span class="sxs-lookup"><span data-stu-id="3d6c9-352">See [Examples of implementing Azure subscription governance](subscription-governance-examples.md).</span></span>
